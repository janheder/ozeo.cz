var cart=document.getElementsByClassName("cart-content");function addInputListener(e){let t=e.parentElement.parentElement.parentElement,l=t.querySelector(".cart-item-price span"),m=parseFloat(t.querySelector(".cart-item-price-pc span").innerText.replace(/,/g,"."));function n(){0<this.value?l.innerText=(m*this.value).toString():l.innerText="0";var e=0;e=document.getElementById("codePrice")?parseFloat(document.getElementById("codePrice").innerText):0;var t,n=document.querySelectorAll(".cart-item-price span ");const r=Array.from(n).reduce((e,t)=>e+Number(t.textContent),0);document.getElementById("codePrice")?null==document.getElementById("codePrice").getAttribute("data-percentage")?(t=(r-e).toString().replace(/\./g,","),document.getElementById("goodsprice").innerText=t):(t=document.getElementById("codePrice").dataset.percentage,document.getElementById("codePrice").innerHTML=parseInt(r*t),t=r-r*t,t=parseInt(t),document.getElementById("goodsprice").innerText=t):(o=r.toString().replace(/\./g,","),document.getElementById("goodsprice").innerText=o);var c,o=document.querySelectorAll(".cart-item-price span, #delprice");const d=Array.from(o).reduce((e,t)=>e+Number(t.textContent),0);document.getElementById("codePrice")?null===document.getElementById("codePrice").getAttribute("data-percentage")?(c=(d-e).toString().replace(/\./g,","),document.getElementById("sumprice").innerText=c):(c=document.getElementById("codePrice").dataset.percentage,document.getElementById("codePrice").innerHTML=parseInt(d*c),c=d-d*c,c=parseInt(c),document.getElementById("sumprice").innerText=c):(i=d.toString().replace(/\./g,","),document.getElementById("sumprice").innerText=i);let a=document.getElementById("cartFreeShipping");var i=parseFloat(a.dataset.price)-parseFloat(document.getElementById("goodsprice").innerText.replace(/,/g,"."));a.innerHTML=i<=0?"Dopravu máte zdarma":"Nakupte ještě za "+i+" Kč a máte dopravu zdarma"}e.addEventListener("change",n),n.call(e)}function recountCart(){var t=document.querySelectorAll(".cart-item-stepper .num_items");for(let e=0;e<t.length;e++)addInputListener(t[e])}function recountDeliveryCart(){var e=document.querySelectorAll(".cart-table-shipping-item");function t(){var e=document.querySelectorAll(".cart-table-shipping-item input:checked ~ .cart-table-shipping-price span"),t=Array.from(e).reduce((e,t)=>e+Number(t.textContent),0);document.getElementById("delprice").innerText=t;e=document.getElementById("goodsprice").textContent,e=t+parseInt(e);document.getElementById("sumprice").innerText=e}for(var n=0;n<e.length;n++)e[n].addEventListener("click",t,!1)}function toggleReg(){document.getElementById("cart-register-password").toggleAttribute("required"),document.getElementById("cart-register-password").toggleAttribute("disabled")}0<cart.length&&(recountCart(),recountDeliveryCart(),document.getElementById("cart-form-user")&&(document.getElementById("cart-register").onclick=function(){toggleReg()},document.getElementById("cart-fa-address").onclick=function(){for(var e=document.querySelectorAll("#cart-fa-address + div input:not(#dic, #fakturacni_jmeno)"),t=0;t<e.length;++t)e[t].toggleAttribute("required")}));
//# sourceMappingURL=maps/cart.js.map
