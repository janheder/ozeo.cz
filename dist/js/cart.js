var cart=document.getElementsByClassName("cart-content");function addInputListener(e){let t=e.parentElement.parentElement.parentElement,d=t.querySelector(".cart-item-price span"),a=parseFloat(t.querySelector(".cart-item-price-pc span").innerText.replace(/,/g,"."));function r(){0<this.value?d.innerText=(a*this.value).toString():d.innerText="0";var e=0,e=(r=parseFloat(document.getElementById("codePrice").innerText))||0,t=document.querySelectorAll(".cart-item-price span "),r=Array.from(t).reduce((e,t)=>e+Number(t.textContent),0);-1!=document.getElementById("codePriceWrap").innerHTML.indexOf("%")?(codePriceNN=-.01*e,t=(r-r*codePriceNN).toString().replace(/\./g,","),document.getElementById("goodsprice").innerText=t):(n=(r+e).toString().replace(/\./g,","),document.getElementById("goodsprice").innerText=n);var n=document.querySelectorAll(".cart-item-price span, #delprice"),n=Array.from(n).reduce((e,t)=>e+Number(t.textContent),0);if(-1!=document.getElementById("codePriceWrap").innerHTML.indexOf("%")){codePriceNN=-.01*e;r=(n-r*codePriceNN).toString().replace(/\./g,",");document.getElementById("sumprice").innerText=r}else if(null===document.getElementById("codePrice").getAttribute("data-percentage")){e=(n+e).toString().replace(/\./g,",");document.getElementById("sumprice").innerText=e}else{var c=document.getElementById("codePrice").dataset.percentage;document.getElementById("codePrice").innerHTML=n*c;const i=n-n*c;c=i.toString().replace(/\./g,",");document.getElementById("sumprice").innerText=c}let o=document.getElementById("cartFreeShipping");c=parseFloat(o.dataset.price)-parseFloat(document.getElementById("goodsprice").innerText.replace(/,/g,".")),o.innerHTML=c<=0?"Dopravu máte zdarma":"Nakupte ještě za "+c+" Kč a máte dopravu zdarma"}e.addEventListener("change",r),r.call(e)}function recountCart(){var t=document.querySelectorAll(".cart-item-stepper .num_items");for(let e=0;e<t.length;e++)addInputListener(t[e])}function recountDeliveryCart(){var e=document.querySelectorAll(".cart-table-shipping-item");function t(){var e=document.querySelectorAll(".cart-table-shipping-item input:checked ~ .cart-table-shipping-price span"),t=Array.from(e).reduce((e,t)=>e+Number(t.textContent),0);document.getElementById("delprice").innerText=t;e=document.getElementById("goodsprice").textContent,e=t+parseInt(e);document.getElementById("sumprice").innerText=e}for(var r=0;r<e.length;r++)e[r].addEventListener("click",t,!1)}0<cart.length&&(recountCart(),recountDeliveryCart(),document.getElementById("cart-form-user")&&(document.getElementById("regToggle").onclick=function(){document.getElementById("cart-register-password").toggleAttribute("required")},document.getElementById("faToggle").onclick=function(){document.getElementById("cart-fa-company").toggleAttribute("required"),document.getElementById("cart-fa-ico").toggleAttribute("required"),document.getElementById("cart-fa-street").toggleAttribute("required"),document.getElementById("cart-fa-city").toggleAttribute("required"),document.getElementById("cart-fa-psc").toggleAttribute("required"),document.getElementById("cart-fa-state").toggleAttribute("required")}));
//# sourceMappingURL=maps/cart.js.map
