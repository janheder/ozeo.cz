{"version":3,"file":"../cart.js","sources":["cart.js"],"sourcesContent":["var cart = document.getElementsByClassName('cart-content');\r\nif (cart.length>0){\r\n\r\n\r\n    /* CART 1 */\r\n\r\n    function addInputListener(input) {\r\n\r\n        let row = input.parentElement.parentElement.parentElement;\r\n        \r\n        let overallPriceElement = row.querySelector('.cart-item-price span');\r\n        let price = parseFloat(row.querySelector('.cart-item-price-pc span').innerText.replace(/,/g, '.')); \r\n\r\n\r\n\r\n\r\n        let calcEvent = function() {\r\n\r\n            if (this.value > 0) {\r\n                overallPriceElement.innerText = (price * this.value).toString();\r\n            } else {\r\n                overallPriceElement.innerText = \"0\";\r\n            }\r\n\r\n\r\n            var codePriceN = 0;\r\n\r\n\r\n\r\n            if (document.getElementById('codePrice')){\r\n                const codePrice =  parseFloat(document.getElementById('codePrice').innerText);\r\n                codePriceN = codePrice;\r\n            }else{\r\n               codePriceN = 0;\r\n            }\r\n\r\n\r\n            const pricegoods = document.querySelectorAll('.cart-item-price span ');\r\n            const result = Array.from(pricegoods).reduce((sum, spanElm) => sum + Number(spanElm.textContent), 0);\r\n\r\n\r\n\r\n            if (document.getElementById('codePrice')){\r\n\r\n                if(document.getElementById('codePrice').getAttribute(\"data-percentage\") == undefined){\r\n               \r\n                    const result_f = (result-codePriceN).toString().replace(/\\./g, ',');\r\n                    document.getElementById('goodsprice').innerText = result_f;\r\n\r\n                }else{\r\n                   \r\n                    const salePer = document.getElementById('codePrice').dataset.percentage;\r\n                    document.getElementById('codePrice').innerHTML = parseInt(result*salePer);\r\n\r\n                    const x = result - (result*salePer);\r\n              \r\n                    const result_f = parseInt(x);\r\n                    document.getElementById('goodsprice').innerText = result_f;\r\n\r\n                }\r\n\r\n            }else{\r\n                const result_f = result.toString().replace(/\\./g, ',');\r\n                document.getElementById('goodsprice').innerText = result_f;\r\n            }\r\n            \r\n            \r\n            \r\n\r\n            const pricesum = document.querySelectorAll('.cart-item-price span, #delprice');\r\n            const result2 = Array.from(pricesum).reduce((sum, spanElm) => sum + Number(spanElm.textContent), 0); \r\n\r\n            if (document.getElementById('codePrice')){\r\n                if(document.getElementById('codePrice').getAttribute(\"data-percentage\") === null){\r\n               \r\n                    const result2_f = (result2-codePriceN).toString().replace(/\\./g, ',');\r\n                    document.getElementById('sumprice').innerText = result2_f;\r\n\r\n                }else{\r\n                   \r\n                    const salePer = document.getElementById('codePrice').dataset.percentage;\r\n                    document.getElementById('codePrice').innerHTML = parseInt(result2*salePer);\r\n\r\n                    const x = result2 - (result2*salePer);\r\n              \r\n                    const result2_f = parseInt(x);\r\n                    document.getElementById('sumprice').innerText = result2_f;\r\n\r\n                }\r\n            }else{\r\n                const result2_f = result2.toString().replace(/\\./g, ',');\r\n                document.getElementById('sumprice').innerText = result2_f;\r\n            }\r\n            \r\n            \r\n\r\n     \r\n            \r\n\r\n            let shipping = document.getElementById('cartFreeShipping');\r\n            let shippingTreshold = parseFloat(shipping.dataset.price);\r\n            let goodsPrice = parseFloat(document.getElementById('goodsprice').innerText.replace(/,/g, '.'));\r\n            let shippingLeft = shippingTreshold - goodsPrice;\r\n            if(shippingLeft <= 0){\r\n                shipping.innerHTML = \"Dopravu máte zdarma\";\r\n            }else{\r\n                shipping.innerHTML = \"Nakupte ještě za \" + shippingLeft + \" Kč a máte dopravu zdarma\";\r\n            }\r\n        \r\n\r\n        };\r\n        \r\n\r\n        input.addEventListener('change', calcEvent);\r\n        calcEvent.call(input); \r\n    }\r\n\r\n    function recountCart(){\r\n        let inputs = document.querySelectorAll('.cart-item-stepper .num_items');\r\n\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            let input = inputs[i];\r\n            addInputListener(input);\r\n        }\r\n    \r\n    }\r\n    recountCart();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /* CART 2 */\r\n    function recountDeliveryCart(){\r\n    var elms = document.querySelectorAll('.cart-table-shipping-item');\r\n\r\n    function deliveryCart() {\r\n        const pricedel = document.querySelectorAll('.cart-table-shipping-item input:checked ~ .cart-table-shipping-price span');\r\n        const deliveryprice = Array.from(pricedel).reduce((sum, spanElm) => sum + Number(spanElm.textContent), 0);\r\n        document.getElementById('delprice').innerText = deliveryprice;\r\n\r\n        var productprice = document.getElementById('goodsprice').textContent;\r\n        var pricecart2 = deliveryprice +  parseInt(productprice)\r\n        document.getElementById('sumprice').innerText = pricecart2;\r\n\r\n\r\n\r\n    };\r\n\r\n    for (var ia = 0; ia < elms.length; ia++) {\r\n        elms[ia].addEventListener('click', deliveryCart, false);\r\n    }\r\n    }\r\n    recountDeliveryCart();\r\n\r\n\r\n    /* CART 3 */\r\n    if(document.getElementById('cart-form-user')){\r\n\r\n        document.getElementById('regToggle').onclick = function() {\r\n            document.getElementById(\"cart-register-password\").toggleAttribute(\"required\");\r\n        }\r\n        document.getElementById('faToggle').onclick = function() {\r\n            document.getElementById(\"cart-fa-company\").toggleAttribute(\"required\");\r\n            document.getElementById(\"cart-fa-ico\").toggleAttribute(\"required\");\r\n            document.getElementById(\"cart-fa-street\").toggleAttribute(\"required\");\r\n            document.getElementById(\"cart-fa-city\").toggleAttribute(\"required\");\r\n            document.getElementById(\"cart-fa-psc\").toggleAttribute(\"required\");\r\n            document.getElementById(\"cart-fa-state\").toggleAttribute(\"required\");\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}"],"names":["cart","document","getElementsByClassName","addInputListener","input","row","parentElement","overallPriceElement","querySelector","price","parseFloat","innerText","replace","calcEvent","this","value","toString","codePriceN","getElementById","result_f","pricegoods","querySelectorAll","result","Array","from","reduce","sum","spanElm","Number","textContent","undefined","getAttribute","salePer","dataset","percentage","innerHTML","parseInt","x","result2_f","pricesum","result2","shipping","shippingLeft","addEventListener","call","recountCart","inputs","i","length","recountDeliveryCart","elms","deliveryCart","pricedel","deliveryprice","productprice","pricecart2","ia","onclick","toggleAttribute"],"mappings":"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"}